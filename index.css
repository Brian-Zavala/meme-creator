@import url('https://fonts.googleapis.com/css2?family=Anton&family=Archivo+Black&family=Bangers&family=Cinzel:wght@400;700&family=Comic+Neue:wght@400;700&family=Creepster&family=Inter:wght@400;500;600;700;900&family=Montserrat:wght@400;700;900&family=Oswald:wght@400;700&family=Pacifico&family=Permanent+Marker&display=swap');
@import "tailwindcss";

@theme {
  --color-brand: oklch(53% 0.187 39);
  --color-brand-dark: oklch(48% 0.187 39);
}

:root {
  font-family:
    "Inter",
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    Oxygen,
    Ubuntu,
    Cantarell,
    "Open Sans",
    "Helvetica Neue",
    sans-serif;
  color-scheme: dark;
}

input[type="button"],
input[type="submit"],
input[type="reset"],
button,
[role="button"] {
  cursor: pointer;
}

body {
  /* Ultra Dark Studio Background with subtle red/gold ambience */
  background-image: radial-gradient(ellipse at top, var(--tw-gradient-stops));
  @apply from-slate-900 via-slate-950 to-black text-slate-100 min-h-screen antialiased selection:bg-brand selection:text-white;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  @apply bg-slate-950;
}

::-webkit-scrollbar-thumb {
  @apply bg-slate-800 rounded-full hover:bg-slate-700;
}

/* Custom Animations */
@keyframes pop-in {
  0% {
    opacity: 0;
    transform: scale(0.95);
    filter: blur(4px);
  }

  100% {
    opacity: 1;
    transform: scale(1);
    filter: blur(0);
  }
}

.animate-pop-in {
  animation: pop-in 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Caret blink animation - matches text input cursor */
@keyframes blink {

  0%,
  50% {
    opacity: 1;
  }

  51%,
  100% {
    opacity: 0;
  }
}

@keyframes roll-down {
  0% {
    opacity: 0;
    transform: scaleY(0) translateY(-20px);
  }

  100% {
    opacity: 1;
    transform: scaleY(1) translateY(0);
  }
}

.animate-roll-down {
  animation: roll-down 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
  transform-origin: top center;
}

@keyframes pulse-ring {
  0% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.1);
  }

  70% {
    box-shadow: 0 0 0 15px rgba(239, 68, 68, 0);
  }

  100% {
    box-shadow: 0 0 0 0 rgba(239, 68, 68, 0);
  }
}

/* Color Picker Rotating Border */
@property --picker-border-angle {
  syntax: "<angle>";
  initial-value: 0deg;
  inherits: false;
}

@keyframes picker-border-rotate {
  from {
    --picker-border-angle: 0deg;
  }

  to {
    --picker-border-angle: 360deg;
  }
}

.color-picker-ring {
  position: relative;
  z-index: 0;
  padding: 2px;
  /* Default for mobile */
}

@media (min-width: 640px) {
  .color-picker-ring {
    padding: 3px;
    /* Restore for larger screens */
  }
}

.color-picker-ring::before,
.color-picker-ring::after {
  content: "";
  display: block;
  position: absolute;
  inset: 0;
  border-radius: 100%;
  z-index: -1;
}

.color-picker-ring::before {
  opacity: 1;
  background: repeating-conic-gradient(from var(--picker-border-angle),
      oklch(53% 0.187 39) 0deg,
      oklch(53% 0.187 39) 30deg,
      oklch(80% 0.16 80) 60deg);
}

.color-picker-ring::after {
  opacity: 0.6;
  background: repeating-conic-gradient(from calc(var(--picker-border-angle) * -1),
      oklch(65% 0.2 50) 0deg,
      oklch(20% 0.05 39) 60deg);
}

/* Animate on hover, focus-within (for the input), and active (for mobile touch) */
.color-picker-ring:hover::before,
.color-picker-ring:focus-within::before,
.color-picker-ring:active::before {
  animation: picker-border-rotate 3s infinite linear;
}

.color-picker-ring:hover::after,
.color-picker-ring:focus-within::after,
.color-picker-ring:active::after {
  animation: picker-border-rotate 3s infinite linear reverse;
}

.animate-pulse-ring {
  animation: pulse-ring 1.2s cubic-bezier(0.24, 0, 0.38, 1) infinite;
}

@keyframes radar-beam {
  0% {
    box-shadow: 0 0 0 0px oklch(53% 0.187 39 / 0.15);
    transform: scale(1);
  }

  100% {
    box-shadow: 0 0 0 12px oklch(53% 0.187 39 / 0);
    transform: scale(1.05);
  }
}

.animate-radar {
  animation: radar-beam 0.4s cubic-bezier(0, 0, 0.2, 1) forwards;
}

@keyframes shimmer-rtl {
  0% {
    background-position: 100% 0;
    color: transparent;
  }

  100% {
    background-position: 0% 0;
    color: #ffffff;
  }
}

.animate-text-shimmer {
  background: linear-gradient(to left, #ffffff 45%, var(--color-brand) 50%, #ffffff 55%);
  background-size: 300% auto;
  color: transparent;
  background-clip: text;
  -webkit-background-clip: text;
  animation: shimmer-rtl 1s ease-out forwards;
}

/* Text Input Entry Animation - GPU optimized (transform + opacity only) */
@keyframes text-entry {
  0% {
    opacity: 0;
    transform: translateY(-12px) scale(0.96);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.animate-text-entry {
  animation: text-entry 0.28s cubic-bezier(0.22, 1, 0.36, 1) both;
  will-change: transform, opacity;
}

/* Glass Panel Utility */
.glass-panel {
  @apply bg-slate-900/80 border border-slate-700/50 backdrop-blur-md shadow-xl;
}

/* Brand Button Utility */
.btn-brand {
  @apply bg-brand text-white border border-brand hover:bg-brand-dark transition-all active:scale-95 shadow-lg shadow-brand/20;
}

/* Touch Target Utility for Mobile */
.touch-target {
  @apply min-w-[44px] min-h-[44px] flex items-center justify-center;
}

/* Marching Ants Animation for SVG Border */
@keyframes march {
  to {
    stroke-dashoffset: -20;
  }
}

.animate-march {
  animation: march 1s linear infinite;
}

/* Vertical Slider Utility for Mobile */
@layer utilities {
  .range-vertical {
    writing-mode: vertical-lr;
    direction: rtl;
    appearance: none;
    -webkit-appearance: none;
  }

  @media (min-width: 768px) {
    .range-vertical {
      writing-mode: horizontal-tb;
      direction: ltr;
      appearance: none;
    }
  }

  .scroll-mt-4 {
    scroll-margin-top: 1rem;
  }
}

@layer utilities {
  .scrollbar-none {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */
  }

  .scrollbar-none::-webkit-scrollbar {
    display: none;
  }

  .scrollbar-thin::-webkit-scrollbar {
    height: 6px;
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgb(51 65 85);
    /* slate-700 */
    border-radius: 9999px;
    border: 1px solid transparent;
    background-clip: content-box;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: #c2410c;
    /* Use brand hex for hover */
    cursor: pointer;
  }
}

.cursor-eraser {
  cursor: url('/images/canvas/eraser_32.png') 16 16, auto;
}

.cursor-pen {
  cursor: url('/images/canvas/marker-pen_32.png') 0 32, auto;
}

/* Custom Range Slider (Desktop) */
.range-slider {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  cursor: pointer;
}

.range-slider:focus {
  outline: none;
}

/* WebKit Thumb */
.range-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 16px;
  width: 16px;
  border-radius: 50%;
  background: #ffffff;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  margin-top: calc((0.375rem - 16px) / 2);
  transition: transform 0.1s;
}

.range-slider:active::-webkit-slider-thumb {
  transform: scale(1.2);
}

/* Firefox Thumb */
.range-slider::-moz-range-thumb {
  height: 16px;
  width: 16px;
  border-radius: 50%;
  border: none;
  background: #ffffff;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  transition: transform 0.1s;
}

.range-slider:active::-moz-range-thumb {
  transform: scale(1.2);
}

/* WebKit Track - background handled by inline style on input for progress */
.range-slider::-webkit-slider-runnable-track {
  width: 100%;
  height: 6px;
  cursor: pointer;
  border-radius: 9999px;
  background: transparent;
  /* Transparent so input background shows through */
}

/* Firefox Track */
.range-slider::-moz-range-track {
  width: 100%;
  height: 6px;
  cursor: pointer;
  border-radius: 9999px;
  background: transparent;
}

/* Mobile Vertical Slider Thumb Alignment */
@media (max-width: 767px) {
  .range-vertical.range-slider::-webkit-slider-thumb {
    margin-top: 0;
    margin-left: calc(50% - 8px);
  }

}

/* --- CHAOS MODE MAGMA EFFECT --- */
.magma-bg {
  background: linear-gradient(-45deg,
      #ee7752,
      #e73c7e,
      #23a6d5,
      #23d5ab);
  background: linear-gradient(-45deg, #ff0000, #ff7300, #fffb00, #4800ff);
  background-size: 400% 400%;
  animation: magmaFlow 3s ease infinite;
}

@keyframes magmaFlow {
  0% {
    background-position: 0% 50%;
  }

  50% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0% 50%;
  }
}

/* --- REMIX CAROUSEL --- */
.remix-carousel {
  display: flex;
  gap: 0.5rem;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  -webkit-overflow-scrolling: touch;
  padding: 0.5rem 1rem;
  /* Added horizontal padding for mobile edge spacing */
  scrollbar-width: none;
  -ms-overflow-style: none;
}

.remix-carousel::-webkit-scrollbar {
  display: none;
}

.remix-btn {
  flex-shrink: 0;
  scroll-snap-align: center;
  min-width: 140px;
  min-height: 56px;
}

/* Tablet: 3-column grid */
@media (min-width: 640px) {
  .remix-carousel {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 0.75rem;
    overflow: visible;
    padding: 0;
  }

  .remix-btn {
    min-width: auto;
  }
}

/* Desktop: 5-column row */
@media (min-width: 1024px) {
  .remix-carousel {
    grid-template-columns: repeat(6, 1fr);
  }
}

/* === MEME TEXT ANIMATIONS (Preview) === */

/* Wave - oscillating up/down motion */
@keyframes meme-wave {

  0%,
  100% {
    transform: translate(-50%, -50%) translateY(0);
  }

  25% {
    transform: translate(-50%, -50%) translateY(-8px);
  }

  75% {
    transform: translate(-50%, -50%) translateY(8px);
  }
}

.animate-meme-wave {
  animation: meme-wave 1s ease-in-out infinite;
}

/* Bounce - physics-like bouncing */
@keyframes meme-bounce {

  0%,
  100% {
    transform: translate(-50%, -50%) translateY(0) scale(1);
  }

  50% {
    transform: translate(-50%, -50%) translateY(-12px) scale(1.05);
  }
}

.animate-meme-bounce {
  animation: meme-bounce 0.6s ease-in-out infinite;
}

/* Shake - intense tremor effect */
@keyframes meme-shake {

  0%,
  100% {
    transform: translate(-50%, -50%) translate(0);
  }

  10% {
    transform: translate(-50%, -50%) translate(-4px, 2px) rotate(-1deg);
  }

  20% {
    transform: translate(-50%, -50%) translate(4px, -2px) rotate(1deg);
  }

  30% {
    transform: translate(-50%, -50%) translate(-3px, 3px) rotate(-0.5deg);
  }

  40% {
    transform: translate(-50%, -50%) translate(3px, -3px) rotate(0.5deg);
  }

  50% {
    transform: translate(-50%, -50%) translate(-2px, 2px);
  }

  60% {
    transform: translate(-50%, -50%) translate(2px, -1px);
  }

  70% {
    transform: translate(-50%, -50%) translate(-3px, 1px) rotate(-0.5deg);
  }

  80% {
    transform: translate(-50%, -50%) translate(2px, 2px) rotate(0.5deg);
  }

  90% {
    transform: translate(-50%, -50%) translate(-1px, -1px);
  }
}

.animate-meme-shake {
  animation: meme-shake 0.5s ease-in-out infinite;
}

/* Glitch - digital interference effect */
@keyframes meme-glitch {

  0%,
  100% {
    transform: translate(-50%, -50%);
    opacity: 1;
  }

  10% {
    transform: translate(-50%, -50%) translateX(5px);
    opacity: 0.9;
  }

  20% {
    transform: translate(-50%, -50%) translateX(-10px) translateY(2px);
  }

  30% {
    transform: translate(-50%, -50%) translateX(15px);
    opacity: 0.7;
  }

  40% {
    transform: translate(-50%, -50%) translateX(-5px) translateY(-2px);
  }

  50% {
    transform: translate(-50%, -50%);
    opacity: 1;
  }

  60% {
    transform: translate(-50%, -50%) translateX(8px);
  }

  70% {
    transform: translate(-50%, -50%) translateX(-12px) translateY(3px);
    opacity: 0.8;
  }

  80% {
    transform: translate(-50%, -50%) translateX(3px);
  }

  90% {
    transform: translate(-50%, -50%) translateX(-8px);
    opacity: 0.9;
  }
}

.animate-meme-glitch {
  animation: meme-glitch 0.8s steps(1) infinite;
}

/* Pulse - rhythmic scaling */
@keyframes meme-pulse {

  0%,
  100% {
    transform: translate(-50%, -50%) scale(1);
  }

  50% {
    transform: translate(-50%, -50%) scale(1.1);
  }
}

.animate-meme-pulse {
  animation: meme-pulse 0.8s ease-in-out infinite;
}

/* Float - gentle hovering */
@keyframes meme-float {

  0%,
  100% {
    transform: translate(-50%, -50%) translateY(0) rotate(-1deg);
  }

  50% {
    transform: translate(-50%, -50%) translateY(-6px) rotate(1deg);
  }
}

.animate-meme-float {
  animation: meme-float 2s ease-in-out infinite;
}

/* Spin - full rotation */
@keyframes meme-spin {
  0% {
    transform: translate(-50%, -50%) rotate(0deg);
  }

  100% {
    transform: translate(-50%, -50%) rotate(360deg);
  }
}

.animate-meme-spin {
  animation: meme-spin 1s linear infinite;
}

/* Tada - Scale up + wiggle */
@keyframes meme-tada {
  0% {
    transform: translate(-50%, -50%) scale(1);
  }

  10%,
  20% {
    transform: translate(-50%, -50%) scale(0.9) rotate(-3deg);
  }

  30%,
  50%,
  70%,
  90% {
    transform: translate(-50%, -50%) scale(1.1) rotate(3deg);
  }

  40%,
  60%,
  80% {
    transform: translate(-50%, -50%) scale(1.1) rotate(-3deg);
  }

  100% {
    transform: translate(-50%, -50%) scale(1) rotate(0);
  }
}

.animate-meme-tada {
  animation: meme-tada 1s ease-in-out infinite;
}

/* Wobble - Swaying rotation + X movement */
@keyframes meme-wobble {

  0%,
  100% {
    transform: translate(-50%, -50%) translateX(0%) rotate(0deg);
  }

  15% {
    transform: translate(-50%, -50%) translateX(-15px) rotate(-5deg);
  }

  30% {
    transform: translate(-50%, -50%) translateX(10px) rotate(3deg);
  }

  45% {
    transform: translate(-50%, -50%) translateX(-10px) rotate(-3deg);
  }

  60% {
    transform: translate(-50%, -50%) translateX(5px) rotate(2deg);
  }

  75% {
    transform: translate(-50%, -50%) translateX(-2px) rotate(-1deg);
  }
}

.animate-meme-wobble {
  animation: meme-wobble 2s ease-in-out infinite;
}

/* Heartbeat - Double pulse */
@keyframes meme-heartbeat {
  0% {
    transform: translate(-50%, -50%) scale(1);
  }

  14% {
    transform: translate(-50%, -50%) scale(1.15);
  }

  28% {
    transform: translate(-50%, -50%) scale(1);
  }

  42% {
    transform: translate(-50%, -50%) scale(1.15);
  }

  70% {
    transform: translate(-50%, -50%) scale(1);
  }
}

.animate-meme-heartbeat {
  animation: meme-heartbeat 1.3s ease-in-out infinite;
}

/* Jelly - Squash and stretch bounce */
@keyframes meme-jelly {
  0% {
    transform: translate(-50%, -50%) scale(1, 1);
  }

  25% {
    transform: translate(-50%, -50%) scale(1.1, 0.9);
  }

  50% {
    transform: translate(-50%, -50%) scale(0.9, 1.1) translateY(-10px);
  }

  75% {
    transform: translate(-50%, -50%) scale(1.15, 0.85);
  }

  100% {
    transform: translate(-50%, -50%) scale(1, 1);
  }
}

.animate-meme-jelly {
  animation: meme-jelly 0.9s ease-in-out infinite;
}

/* Flip - 3D horizontal flip simulated with scaleX */
@keyframes meme-flip {
  0% {
    transform: translate(-50%, -50%) scaleX(1);
  }

  50% {
    transform: translate(-50%, -50%) scaleX(-1);
  }

  100% {
    transform: translate(-50%, -50%) scaleX(1);
  }
}

.animate-meme-flip {
  animation: meme-flip 2s ease-in-out infinite;
}

/* Wave (Character) - Up/Down per character */
@keyframes meme-wave-char {

  0%,
  100% {
    transform: translateY(0);
  }

  25% {
    transform: translateY(-8px);
  }

  75% {
    transform: translateY(8px);
  }
}

.animate-meme-wave-char {
  display: inline-block;
  animation: meme-wave-char 1s ease-in-out infinite;
}
/* === ICON ANIMATIONS (Toolbar Preview) === */
/* These match the meme animations but without absolute positioning centering */

@keyframes icon-wave {
  0%, 100% { transform: translateY(0); }
  25% { transform: translateY(-4px); }
  75% { transform: translateY(4px); }
}
.animate-icon-wave { animation: icon-wave 1s ease-in-out infinite; }

@keyframes icon-bounce {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-6px) scale(1.05); }
}
.animate-icon-bounce { animation: icon-bounce 0.6s ease-in-out infinite; }

@keyframes icon-shake {
  0%, 100% { transform: translate(0); }
  10% { transform: translate(-2px, 1px) rotate(-1deg); }
  20% { transform: translate(2px, -1px) rotate(1deg); }
  30% { transform: translate(-1.5px, 1.5px) rotate(-0.5deg); }
  40% { transform: translate(1.5px, -1.5px) rotate(0.5deg); }
  50% { transform: translate(-1px, 1px); }
  60% { transform: translate(1px, -0.5px); }
  70% { transform: translate(-1.5px, 0.5px) rotate(-0.5deg); }
  80% { transform: translate(1px, 1px) rotate(0.5deg); }
  90% { transform: translate(-0.5px, -0.5px); }
}
.animate-icon-shake { animation: icon-shake 0.5s ease-in-out infinite; }

@keyframes icon-glitch {
  0%, 100% { transform: translate(0); opacity: 1; }
  10% { transform: translateX(2px); opacity: 0.9; }
  20% { transform: translateX(-4px) translateY(1px); }
  30% { transform: translateX(4px); opacity: 0.7; }
  40% { transform: translateX(-2px) translateY(-1px); }
  50% { transform: translate(0); opacity: 1; }
  60% { transform: translateX(3px); }
  70% { transform: translateX(-4px) translateY(1px); opacity: 0.8; }
  80% { transform: translateX(1px); }
  90% { transform: translateX(-3px); opacity: 0.9; }
}
.animate-icon-glitch { animation: icon-glitch 0.8s steps(1) infinite; }

@keyframes icon-pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}
.animate-icon-pulse { animation: icon-pulse 0.8s ease-in-out infinite; }

@keyframes icon-float {
  0%, 100% { transform: translateY(0) rotate(-1deg); }
  50% { transform: translateY(-3px) rotate(1deg); }
}
.animate-icon-float { animation: icon-float 2s ease-in-out infinite; }

@keyframes icon-spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.animate-icon-spin { animation: icon-spin 1s linear infinite; }

@keyframes icon-tada {
  0% { transform: scale(1); }
  10%, 20% { transform: scale(0.9) rotate(-3deg); }
  30%, 50%, 70%, 90% { transform: scale(1.1) rotate(3deg); }
  40%, 60%, 80% { transform: scale(1.1) rotate(-3deg); }
  100% { transform: scale(1) rotate(0); }
}
.animate-icon-tada { animation: icon-tada 1s ease-in-out infinite; }

@keyframes icon-wobble {
  0%, 100% { transform: translateX(0%) rotate(0deg); }
  15% { transform: translateX(-4px) rotate(-5deg); }
  30% { transform: translateX(3px) rotate(3deg); }
  45% { transform: translateX(-3px) rotate(-3deg); }
  60% { transform: translateX(2px) rotate(2deg); }
  75% { transform: translateX(-1px) rotate(-1deg); }
}
.animate-icon-wobble { animation: icon-wobble 2s ease-in-out infinite; }

@keyframes icon-heartbeat {
  0% { transform: scale(1); }
  14% { transform: scale(1.15); }
  28% { transform: scale(1); }
  42% { transform: scale(1.15); }
  70% { transform: scale(1); }
}
.animate-icon-heartbeat { animation: icon-heartbeat 1.3s ease-in-out infinite; }

@keyframes icon-jelly {
  0% { transform: scale(1, 1); }
  25% { transform: scale(1.1, 0.9); }
  50% { transform: scale(0.9, 1.1) translateY(-5px); }
  75% { transform: scale(1.15, 0.85); }
  100% { transform: scale(1, 1); }
}
.animate-icon-jelly { animation: icon-jelly 0.9s ease-in-out infinite; }

@keyframes icon-flip {
  0% { transform: scaleX(1); }
  50% { transform: scaleX(-1); }
  100% { transform: scaleX(1); }
}
.animate-icon-flip { animation: icon-flip 2s ease-in-out infinite; }
